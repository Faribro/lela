






<!DOCTYPE html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9"> <![endif]-->
<!--[if IE 9 ]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!--> <html> <!--<![endif]-->

<head>
    <!-- Load Google font on the first <head> to prevent error in IE -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:600,800,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />   
    <title>Lela Fitness - About</title>
    <meta name="author" content="Burger Bar" />
    <meta name="description" content="Burger Bar Description" />
    <meta name="keywords"  content="Burger Bar Keyword" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
    

    <!-- Using IE Conditional to load stylesheet, Load style.less for all browser except lower than IE 9. Lower than IE9 using style.css -->

    <link rel="stylesheet/less" type="text/css" href="../static/css/style.less" />


    <link rel="stylesheet" type="text/css" href="../static/css/style.css" />


    <link rel="stylesheet/less" type="text/css" href="../static/css/style.less" />

   
	<style>
    /* Orange text gradient only for Webkit (Chrome and Safari) */
    .webkit #our-team h4.sub-title, .webkit #foods h4.sub-title {
        background: #ef9e10; /* Old browsers */
        background: -moz-linear-gradient(left,  #ef9e10 40%, #ef6910 60%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, right top, color-stop(40%,#ef9e10), color-stop(60%,#ef6910)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(left,  #ef9e10 40%,#ef6910 60%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(left,  #ef9e10 40%,#ef6910 60%); /* Opera 11.10+ */
        background: -ms-linear-gradient(left,  #ef9e10 40%,#ef6910 60%); /* IE10+ */
        background: linear-gradient(to right,  #ef9e10 40%,#ef6910 60%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ef9e10', endColorstr='#ef6910',GradientType=1 ); /* IE6-9 */
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    </style>

    <!-- Option for Less JS -->
    <script>
      less = {
        env: "development",
        async: false,
        fileAsync: false,
        poll: 1000,
        functions: {},
        dumpLineNumbers: "comments",
        relativeUrls: false
      };
    </script>
    <script type="text/javascript" src="../static/js/less.min.js"></script>
    <script type="text/javascript" src="../static/js/retina.min.js"></script>
	<script type="text/javascript" src="../static/js/modernizr.custom.71422.js"></script>
</head>

<body>
    <!-- Menu -->
    <nav class="menu menu-left">
        <div class="close-menu-btn icon-menu active">&nbsp;</div>    
        <ul>
            <li><a href="/f_home">Home</a></li>
            <!-- <li class="active"><a href="/f_about">About Us</a></li> -->
            <li><a href="/f_gym">Fitness</a></li>
            <li><a href="/f_contact">Contact</a></li>
        </ul>
    </nav>
    <div class="menu-btn"><span class="icon-menu">&nbsp;</span> Menu</div>

    
    <!-- Site Overlay -->
    <div class="site-overlay"></div>

    <!-- Your Content -->
    <div id="container">

        <div class="container">
            <div class="main-container row">
                <div id="logo">
                    <a href="/">
                        <div class="logo-icon"><img src="https://i.postimg.cc/wxfykpRf/lelalogo.png" height="80px" width= "62px"/></div>
                        <div class="logo-type">Lela</div>
                        <div class="logo-slogan">Shape it up!</div> 
                    </a> 
                </div>
            </div>
        </div>

        <div id="full-width-header" class="full-width">
            <div class="triangle top"></div>
            <div class="inner">
                <div class="slide">
                    <div class="inner-slide">
                        <img src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1650&q=80" width="1439" height="980">
                    </div>
                </div>
            </div>
            <div class="triangle bottom"></div>
        </div>
        
        <div class="clear"></div>

        <div class="container full-page">
            <div id="about-us" class="main-container">
                <div class="row">
                    <div class="main-content col">
                        
                        <div class= "container" >
                            <h1 class="title display-4" align="center">
                              You selected: <strong>{{pose_name}}</strong>
                              <!-- <small>(<a href="/poses">change</a>)</small> -->
                            </h1>
                        
                            <p class="pose-desc">{{pose_desc}}</p>
                        
                            <div class="steps row">
                              <div class="instructions col">
                                <p><strong> Follow this instructions </strong></p>
                                <div class="box">
                                    <iframe src="https://player.vimeo.com/video/334225500?autoplay=1&loop=1&color=000&title=0&byline=0&portrait=0" width="100%" height="100%" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
                                </div>
                              </div>
                        
                              <div class="record col">
                                <p><strong> Your turn! </strong></p>
                                <div class="box">
                                  <div class="inner-box">
                                    <button
                                      data-toggle="modal"
                                      data-target="#videoRecordingModal"
                                      class="btn btn-outline-primary round">
                                      Start Assessing
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div id="videoRecordingModal" class="modal" tabindex="-1" role="dialog">
                                <div class="modal-dialog modal-lg" role="document">
                                  <div class="modal-content">
                                    <div class="modal-body">
                                      <video id="video" class="video-player" autoplay> </video>
                                      <div id="bar" class="progress"></div>
                                      <audio id='done' src="{{ url_for('static', filename='done.m4a') }}"></audio>
                                    </div>
                                    <div class="modal-footer">
                                      <!-- <div align="left"> -->
                                        Click 'Start recording', then go to your mat! <br>
                                        Hold your pose until you hear a signal.
                                      <!-- </div> -->
                                      <div>
                                        <button id="capture" type="button" class="btn btn-primary"> Start recording! </button>
                                        <button id='send' type="button" class="btn btn-secondary" disabled="false">Start analysing</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>

                    </div>
                </div>
            </div>
        </div>
        
        <div class="clear"></div>

        
        <div class="clear space-area"></div>
        
        <div class="triangle top footer"></div>
        <div class="container footer">
            <div id="footer" class="main-container">
                <div class="footer-top row">
                    <div class="footer-info col">
                        <div class="footer-logo">
                            <div class="logo-icon"><img src="https://i.postimg.cc/wxfykpRf/lelalogo.png" height="60px" width= "62px" /></div>
                        </div>
                        <div class="footer-address">
                            Lela</br>Sateesh Supari Street, Hyderabad
                        </div>
                        <div class="footer-contact">
                            +91 9876789879<br/><a href="#">contact@lela.com</a>
                        </div>
                    </div>
                    <div class="footer-newsletter col">
                        <div class="footer-newsletter-container">
                            <form id="subscribe-newsletter">
                                <input type="email" class="footer-input-text" placeholder="Enter your email to join newsletter..."/>
                                <input type="submit" class="button grey-button footer-input-submit" value="Subscribe"/>
                            </form>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <div class="footer-bottom row">
                    <div class="footer-copyright col">
                        <div class="footer-copyright-text">Copyright 2021 Lela Dietician. Designed by Aman. All right reserved.</div>
                    </div>
                    <div class="footer-social-media col">
                        <div class="social-media-icon">
                            <span class="icon-social-media icon-facebook">&nbsp;</span>
                            <span class="icon-social-media icon-twitter">&nbsp;</span>
                            <span class="icon-social-media icon-google">&nbsp;</span>
                            <span class="icon-social-media icon-pinterest">&nbsp;</span>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
            <div class="clear"></div>
        </div>
       
    </div>


    <script type="text/javascript" src="../static/js/jquery.min.js"></script>
    <script type="text/javascript" src="../static/js/pushy.js"></script>
    <script type="text/javascript" src="../static/js/slider.js"></script>
    <script type="text/javascript" src="../static/js/browser.selector.js"></script>
    <script type="text/javascript" src="../static/js/fastclick.js"></script>
    <script type="text/javascript" src="../static/js/script.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140144445-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-140144445-1');
    </script>
    <script type="text/javascript">
        window.addEventListener("DOMContentLoaded", function() {
        var video = document.querySelector('video');
        var constraints = { video: { width: 854, height: 480 } };
    
        var recordedChunks = [];
        var options = {mimeType: 'video/webm; codecs=vp9'};
        var superBuffer;
    
        navigator.mediaDevices.getUserMedia(constraints)
        .then(function(stream) {
              video.srcObject = stream;
              video.play();
        }).catch(function(err) {
            console.log(err.name + ": " + err.message);
        });
    
        function startCapture() {
          $("#capture").html("Recording...")
    
          mediaRecorder = new MediaRecorder(video.srcObject, options);
          mediaRecorder.ondataavailable = handleDataAvailable
          window.setTimeout(function() {mediaRecorder.start(1000)}, 10000)
          window.setTimeout(stopAndPlay, 15000)
    
          function handleDataAvailable(event) {
            console.log(event.data.size)
            if (event.data.size > 0) {
              recordedChunks.push(event.data);
            }
          }
    
          function stopAndPlay() {
            $("#capture").html("Record").removeClass("btn-primary").addClass("btn-secondary")
            $("#send").removeClass("btn-secondary").addClass("btn-primary").removeAttr("disabled")
            var audio = document.querySelector('audio');
            audio.play();
            console.log("Stopped")
            video.pause()
            mediaRecorder.stop()
            replay()
          }
    
          function replay() {
            video.srcObject = null
            superBuffer = new Blob(recordedChunks);
            video.src = window.webkitURL.createObjectURL(superBuffer);
            video.controls = true
            video.loop = true
            video.load()
          }
        }
    
        function upload() {
            console.log("Uploading...")
            $(".analyze").css({"display":"block"})
                                $("#bar").append('<div id="bar" class="progress-bar bg-success progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: 100%"></div>')
                                
            var formData = new FormData();
            formData.append("file", superBuffer, 'video.webm');
    
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("POST", "/video");
    
            // check when state changes,
            xmlhttp.onreadystatechange = function() {
              if(xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                window.location.replace(xmlhttp.responseText)
              }
            }
    
            xmlhttp.send(formData);
            console.log(formData.get('file'));
        }
    
    
        document.getElementById("capture").addEventListener("click", function() {
          startCapture();
        });
    
        document.getElementById("send").addEventListener("click", function() {
          upload();
        });
      }, false);
      </script>
</body>

